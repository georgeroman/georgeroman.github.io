<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <base href=/ > <link href=global.css rel=stylesheet> <link href=favicon.png rel=icon type=image/png> <noscript id=sapper-head-start></noscript><title>GSoC with Servo - weeks 5 and 6</title><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <main> <div class=siimple-content--medium><div class="siimple--mx-4 siimple--my-4"><div class=siimple-h3>GSoC with Servo - weeks 5 and 6</div> <div> <p>Last two weeks were really busy for me as I had my final exams and also moved to a new place for the summer. But, fortunately, I've managed to get to an end with the <code>JSON</code> clone algorithm implementation and can return to working on improving and writing WebDriver commands.</p> <p>Besides the previously existing support for returning primitive JavaScript types from <code>ExecuteScript</code> and <code>ExecuteAsyncScript</code>, I added support for returning <a href=https://w3c.github.io/webdriver/#dfn-collection>collections</a>, <a href=https://dom.spec.whatwg.org/#concept-element>web elements</a>, <a href=https://html.spec.whatwg.org/#windowproxy>window proxies</a> and objects having a <code>toJSON</code> function property, as per the WebDriver <a href=https://w3c.github.io/webdriver/#dfn-json-clone>specification</a>. Currently, only <a href=https://github.com/servo/servo/pull/23725><code>collections support</code></a> is pushed on the Servo's GitHub repository in order to keep the changes easy for review, but I will progressively push the rest of the changes once the pending pull request is merged into the <code>master</code> branch.</p> <p>Support for returning objects is still missing. I really wanted to have a full implementation of the <code>JSON</code> clone algorithm, but I decided that it's better to focus on other things since supporting returning objects requires some additional work that would take a good amount of time. Anyway, I'll keep this in mind and save the work I've done on it for some time in the near future.</p> <p>As part of last weeks' work, I also improved the implementation of <a href=https://github.com/servo/servo/blob/d0bd2d5e44d4006b00ef53f351945d01e1c8458d/components/script/dom/bindings/conversions.rs#L556><code>is_array_like</code></a> by providing support for the collection types needed by the <code>JSON</code> clone algorithm. The improvements can be found <a href=https://github.com/servo/servo/pull/23669>here</a>,</p> <p>I can say that these last two weeks were the most challenging so far, but also the most rewarding. I've really enjoyed working on low-level <a href=https://doc.servo.org/mozjs/ ><code>mozjs</code></a> stuff. It was an awesome learning experience and it definitely deepened my understanding of the interactions that occur within the browser's backend.</p> <p>This week I'm planning to investigate the failing tests issue in <a href=https://github.com/servo/servo/pull/23585>this</a> pull request, return to working on missing WebDriver commands (<a href=https://w3c.github.io/webdriver/#get-element-property><code>GetElementProperty</code></a> for example), add support for more <a href=https://w3c.github.io/webdriver/#locator-strategies>locator strategies</a> for finding elements and, hopefully, get the changes from the last two weeks merged into the main branch.</p> </div></div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"GSoC with Servo - weeks 5 and 6",date:"2019-07-09T00:00:00.000Z",slug:"gsoc-with-servo-weeks-5-and-6",html:"\n\u003Cp\u003ELast two weeks were really busy for me as I had my final exams and also moved to a new place for the summer.\nBut, fortunately, I've managed to get to an end with the \u003Ccode\u003EJSON\u003C\u002Fcode\u003E clone algorithm implementation and can return to working on improving and writing WebDriver commands.\u003C\u002Fp\u003E\n\u003Cp\u003EBesides the previously existing support for returning primitive JavaScript types from \u003Ccode\u003EExecuteScript\u003C\u002Fcode\u003E and \u003Ccode\u003EExecuteAsyncScript\u003C\u002Fcode\u003E, I added support for returning\n\u003Ca href=\"https:\u002F\u002Fw3c.github.io\u002Fwebdriver\u002F#dfn-collection\"\u003Ecollections\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fdom.spec.whatwg.org\u002F#concept-element\"\u003Eweb elements\u003C\u002Fa\u003E,\n\u003Ca href=\"https:\u002F\u002Fhtml.spec.whatwg.org\u002F#windowproxy\"\u003Ewindow proxies\u003C\u002Fa\u003E and objects having a \u003Ccode\u003EtoJSON\u003C\u002Fcode\u003E function property, as per the WebDriver \u003Ca href=\"https:\u002F\u002Fw3c.github.io\u002Fwebdriver\u002F#dfn-json-clone\"\u003Especification\u003C\u002Fa\u003E.\nCurrently, only \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fservo\u002Fservo\u002Fpull\u002F23725\"\u003E\u003Ccode\u003Ecollections support\u003C\u002Fcode\u003E\u003C\u002Fa\u003E is pushed on the Servo's GitHub repository in order to keep the changes easy for review,\nbut I will progressively push the rest of the changes once the pending pull request is merged into the \u003Ccode\u003Emaster\u003C\u002Fcode\u003E branch.\u003C\u002Fp\u003E\n\u003Cp\u003ESupport for returning objects is still missing. I really wanted to have a full implementation of the \u003Ccode\u003EJSON\u003C\u002Fcode\u003E clone algorithm, but I decided that it's better to focus on\nother things since supporting returning objects requires some additional work that would take a good amount of time.\nAnyway, I'll keep this in mind and save the work I've done on it for some time in the near future.\u003C\u002Fp\u003E\n\u003Cp\u003EAs part of last weeks' work, I also improved the implementation of\n\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fservo\u002Fservo\u002Fblob\u002Fd0bd2d5e44d4006b00ef53f351945d01e1c8458d\u002Fcomponents\u002Fscript\u002Fdom\u002Fbindings\u002Fconversions.rs#L556\"\u003E\u003Ccode\u003Eis_array_like\u003C\u002Fcode\u003E\u003C\u002Fa\u003E by providing support\nfor the collection types needed by the \u003Ccode\u003EJSON\u003C\u002Fcode\u003E clone algorithm. The improvements can be found \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fservo\u002Fservo\u002Fpull\u002F23669\"\u003Ehere\u003C\u002Fa\u003E,\u003C\u002Fp\u003E\n\u003Cp\u003EI can say that these last two weeks were the most challenging so far, but also the most rewarding. I've really enjoyed working on low-level \u003Ca href=\"https:\u002F\u002Fdoc.servo.org\u002Fmozjs\u002F\"\u003E\u003Ccode\u003Emozjs\u003C\u002Fcode\u003E\u003C\u002Fa\u003E stuff.\nIt was an awesome learning experience and it definitely deepened my understanding of the interactions that occur within the browser's backend.\u003C\u002Fp\u003E\n\u003Cp\u003EThis week I'm planning to investigate the failing tests issue in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fservo\u002Fservo\u002Fpull\u002F23585\"\u003Ethis\u003C\u002Fa\u003E pull request, return to working on missing WebDriver commands\n(\u003Ca href=\"https:\u002F\u002Fw3c.github.io\u002Fwebdriver\u002F#get-element-property\"\u003E\u003Ccode\u003EGetElementProperty\u003C\u002Fcode\u003E\u003C\u002Fa\u003E for example), add support for more \u003Ca href=\"https:\u002F\u002Fw3c.github.io\u002Fwebdriver\u002F#locator-strategies\"\u003Elocator strategies\u003C\u002Fa\u003E\nfor finding elements and, hopefully, get the changes from the last two weeks merged into the main branch.\u003C\u002Fp\u003E\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.e5726ad4.js"}catch(e){main="/client/legacy/client.326a6068.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 